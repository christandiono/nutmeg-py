<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>stats.beam_stats &mdash; Nutmeg-Py Documentation</title>
    <link rel="stylesheet" href="../../static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1.0-devel',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <link rel="top" title="Nutmeg-Py Documentation" href="../../index.html" />
    <link rel="up" title="API" href="../index.html" />
    <link rel="next" title="stats.parametric_stats" href="nutmeg.stats.parametric_stats.html" />
    <link rel="prev" title="numutils" href="nutmeg.numutils.html" />
  <meta name="keywords" content="nutmeg, meg, magnetic source imaging,
  python, neuroscience">

  </head>
  <body>
  <div id="header">
  <table width="100%">
  <tr>
   <td style="text-align:right;vertical-align:bottom">Nutmeg in Python
    </td>
  </tr>
  </table>
  </div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="nutmeg.stats.parametric_stats.html" title="stats.parametric_stats"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nutmeg.numutils.html" title="numutils"
             accesskey="P">previous</a> |</li>
  <li><a href="../../index.html">Home</a> |&nbsp;</li>
  <li><a href="../../contents.html">Documentation</a> |&nbsp;</li>

          <li><a href="../index.html" accesskey="U">API</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">stats.beam_stats</a><ul>
<li><a class="reference external" href="#module-nutmeg.stats.beam_stats">Module: <tt class="docutils literal"><span class="pre">stats.beam_stats</span></tt></a></li>
<li><a class="reference external" href="#classes">Classes</a><ul>
<li><a class="reference external" href="#beamactivationaverager"><tt class="docutils literal"><span class="pre">BeamActivationAverager</span></tt></a></li>
<li><a class="reference external" href="#beamcomparator"><tt class="docutils literal"><span class="pre">BeamComparator</span></tt></a></li>
<li><a class="reference external" href="#beamcontrastaverager"><tt class="docutils literal"><span class="pre">BeamContrastAverager</span></tt></a></li>
</ul>
</li>
<li><a class="reference external" href="#function">Function</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="nutmeg.numutils.html"
                                  title="previous chapter">numutils</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="nutmeg.stats.parametric_stats.html"
                                  title="next chapter">stats.parametric_stats</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../sources/api/generated/nutmeg.stats.beam_stats.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="stats-beam-stats">
<h1>stats.beam_stats<a class="headerlink" href="#stats-beam-stats" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-nutmeg.stats.beam_stats">
<h2>Module: <tt class="xref docutils literal"><span class="pre">stats.beam_stats</span></tt><a class="headerlink" href="#module-nutmeg.stats.beam_stats" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="beamactivationaverager">
<h3><a title="nutmeg.stats.beam_stats.BeamActivationAverager" class="reference internal" href="#nutmeg.stats.beam_stats.BeamActivationAverager"><tt class="xref docutils literal"><span class="pre">BeamActivationAverager</span></tt></a><a class="headerlink" href="#beamactivationaverager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="nutmeg.stats.beam_stats.BeamActivationAverager">
<em class="property">
class </em><tt class="descclassname">nutmeg.stats.beam_stats.</tt><tt class="descname">BeamActivationAverager</tt><big>(</big><em>beam_list</em>, <em>subject_labels</em>, <em>condition_labels</em>, <em>aligned_voxels=()</em>, <em>**b_kws</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamActivationAverager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a title="nutmeg.stats.beam_stats.BeamComparator" class="reference internal" href="#nutmeg.stats.beam_stats.BeamComparator"><tt class="xref docutils literal"><span class="pre">nutmeg.stats.beam_stats.BeamComparator</span></tt></a></p>
<p>This BeamComparator looks at the activation in a given condition for
a group of subjects.</p>
<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamActivationAverager.__init__">
<tt class="descname">__init__</tt><big>(</big><em>beam_list</em>, <em>subject_labels</em>, <em>condition_labels</em>, <em>aligned_voxels=()</em>, <em>**b_kws</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamActivationAverager.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>beam_list</strong> : list</p>
<blockquote>
<p>a length-n list of beam objects of paths to beam files</p>
</blockquote>
<p><strong>subject_labels</strong> : list</p>
<blockquote>
<p>a length-n list of labels (num, str, whatever) labeling each beam</p>
</blockquote>
<p><strong>condition_labels</strong> : list</p>
<blockquote>
<p>a length-n list of labels (num, str, whatever) labeling each beam</p>
</blockquote>
<p><strong>b_kws</strong> : dict, optional</p>
<blockquote class="last">
<p>if the beam_list is supplied as a list of paths, then these are
optional arguments to be used when loading the beams</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamActivationAverager.beam_sig">
<tt class="descname">beam_sig</tt><big>(</big><em>cond</em>, <em>subj</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamActivationAverager.beam_sig" title="Permalink to this definition">¶</a></dt>
<dd>Returns the signal from the beam indexed by (cond, subj).
Importantly, returned samples of the function s(vox) ordered in
a consistent voxel ordering</dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamActivationAverager.compare">
<tt class="descname">compare</tt><big>(</big><em>conditions=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamActivationAverager.compare" title="Permalink to this definition">¶</a></dt>
<dd>Returns a list of activations, and an average activation for
each condition specified</dd></dl>

</dd></dl>

</div>
<div class="section" id="beamcomparator">
<h3><a title="nutmeg.stats.beam_stats.BeamComparator" class="reference internal" href="#nutmeg.stats.beam_stats.BeamComparator"><tt class="xref docutils literal"><span class="pre">BeamComparator</span></tt></a><a class="headerlink" href="#beamcomparator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="nutmeg.stats.beam_stats.BeamComparator">
<em class="property">
class </em><tt class="descclassname">nutmeg.stats.beam_stats.</tt><tt class="descname">BeamComparator</tt><big>(</big><em>beam_list</em>, <em>subject_labels</em>, <em>condition_labels</em>, <em>aligned_voxels=()</em>, <em>**b_kws</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref docutils literal"><span class="pre">object</span></tt></p>
<p>This class will manage beam comparisons among conditions or across
conditions. For any comparison specified, it will prune the voxels in
each beam such that all voxels intersect with each other, and also with
the MNI voxel space.</p>
<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamComparator.__init__">
<tt class="descname">__init__</tt><big>(</big><em>beam_list</em>, <em>subject_labels</em>, <em>condition_labels</em>, <em>aligned_voxels=()</em>, <em>**b_kws</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>beam_list</strong> : list</p>
<blockquote>
<p>a length-n list of beam objects of paths to beam files</p>
</blockquote>
<p><strong>subject_labels</strong> : list</p>
<blockquote>
<p>a length-n list of labels (num, str, whatever) labeling each beam</p>
</blockquote>
<p><strong>condition_labels</strong> : list</p>
<blockquote>
<p>a length-n list of labels (num, str, whatever) labeling each beam</p>
</blockquote>
<p><strong>b_kws</strong> : dict, optional</p>
<blockquote class="last">
<p>if the beam_list is supplied as a list of paths, then these are
optional arguments to be used when loading the beams</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamComparator.align_voxels">
<tt class="descname">align_voxels</tt><big>(</big><em>align_all=False</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator.align_voxels" title="Permalink to this definition">¶</a></dt>
<dd><p>The &#8220;prototype&#8221; of align_voxels() aligns voxels across
subjects at each condition. All resulting data are dicts keyed
by condition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>align_all</strong> : bool</p>
<blockquote>
<p>Aligns voxels across all beams in the comparison group, rather
than separately per condition</p>
</blockquote>
<p><strong>(all these items get defined on the object as a result of this method)</strong> :</p>
<p><strong>inter_vox</strong> : dict</p>
<blockquote>
<p>lists of intersecting voxels</p>
</blockquote>
<p><strong>beam_voxel_maps</strong> : dict</p>
<blockquote class="last">
<p>lists of index locations of intersecting voxels on the ordered
voxels list of each beam.</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamComparator.beam">
<tt class="descname">beam</tt><big>(</big><em>cond</em>, <em>subj</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator.beam" title="Permalink to this definition">¶</a></dt>
<dd>Returns the beam object corresponding to a given condition and subject.</dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamComparator.beam_sig">
<tt class="descname">beam_sig</tt><big>(</big><em>cond</em>, <em>subj</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator.beam_sig" title="Permalink to this definition">¶</a></dt>
<dd>Returns the signal from the beam indexed by (cond, subj).
Importantly, returned samples of the function s(vox) ordered in
a consistent voxel ordering</dd></dl>

<dl class="staticmethod">
<dt id="nutmeg.stats.beam_stats.BeamComparator.beams">
<em class="property">
static </em><tt class="descname">beams</tt><big>(</big><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator.beams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamComparator.clear_cache">
<tt class="descname">clear_cache</tt><big>(</big><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamComparator.compare">
<tt class="descname">compare</tt><big>(</big><em>conditions=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>prototype</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>sample_beams</strong> : list</p>
<blockquote>
<p>a len(conditions) length list of n_subj length lists of
comparison beams</p>
</blockquote>
<p><strong>avg_beams</strong> : list</p>
<blockquote class="last">
<p>a len(conditions) length list of average comparisons</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="nutmeg.stats.beam_stats.BeamComparator.from_matlab_ptr_file">
<em class="property">
classmethod </em><tt class="descname">from_matlab_ptr_file</tt><big>(</big><em>class_type</em>, <em>mfile</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamComparator.from_matlab_ptr_file" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a BeamComparator-type object from a MATLAB
(or NUTMEG) pointer file.</p>
<p>ex: (a shallow sublass of BeamComparitor)</p>
<dl class="docutils">
<dt>class MyBeamComparison (BeamComparitor):</dt>
<dd>pass</dd>
</dl>
<p>c = MyBeamComparison.from_matlab_ptr_file(m_file, ratio_type=&#8217;f raw&#8217;)
results = c.compare()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mfile</strong> : string</p>
<blockquote>
<p>the .mat file that holds subject/condition labels and paths to
the tfbeam mat files</p>
</blockquote>
<p><strong>kwargs</strong> : dict</p>
<blockquote class="last">
<p>keyword arguments for constructing TFBeams</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="beamcontrastaverager">
<h3><a title="nutmeg.stats.beam_stats.BeamContrastAverager" class="reference internal" href="#nutmeg.stats.beam_stats.BeamContrastAverager"><tt class="xref docutils literal"><span class="pre">BeamContrastAverager</span></tt></a><a class="headerlink" href="#beamcontrastaverager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="nutmeg.stats.beam_stats.BeamContrastAverager">
<em class="property">
class </em><tt class="descclassname">nutmeg.stats.beam_stats.</tt><tt class="descname">BeamContrastAverager</tt><big>(</big><em>beam_list</em>, <em>subject_labels</em>, <em>condition_labels</em>, <em>aligned_voxels=()</em>, <em>**b_kws</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamContrastAverager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a title="nutmeg.stats.beam_stats.BeamComparator" class="reference internal" href="#nutmeg.stats.beam_stats.BeamComparator"><tt class="xref docutils literal"><span class="pre">nutmeg.stats.beam_stats.BeamComparator</span></tt></a></p>
<p>This BeamComparator looks at the contrast between conditions for a
group of subjects.</p>
<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamContrastAverager.__init__">
<tt class="descname">__init__</tt><big>(</big><em>beam_list</em>, <em>subject_labels</em>, <em>condition_labels</em>, <em>aligned_voxels=()</em>, <em>**b_kws</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamContrastAverager.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>beam_list</strong> : list</p>
<blockquote>
<p>a length-n list of beam objects of paths to beam files</p>
</blockquote>
<p><strong>subject_labels</strong> : list</p>
<blockquote>
<p>a length-n list of labels (num, str, whatever) labeling each beam</p>
</blockquote>
<p><strong>condition_labels</strong> : list</p>
<blockquote>
<p>a length-n list of labels (num, str, whatever) labeling each beam</p>
</blockquote>
<p><strong>b_kws</strong> : dict, optional</p>
<blockquote class="last">
<p>if the beam_list is supplied as a list of paths, then these are
optional arguments to be used when loading the beams</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamContrastAverager.align_voxels">
<tt class="descname">align_voxels</tt><big>(</big><em>**kw</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamContrastAverager.align_voxels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nutmeg.stats.beam_stats.BeamContrastAverager.compare">
<tt class="descname">compare</tt><big>(</big><em>conditions=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.BeamContrastAverager.compare" title="Permalink to this definition">¶</a></dt>
<dd>Returns a contrast beam for each subject, for each condition pair
specified, as well as an average contrast beam for each condition pair.
If the conditions are specified as [(a,b)], the contrast is
beam(a, subj) - beam(b, subj)</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="function">
<h2>Function<a class="headerlink" href="#function" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nutmeg.stats.beam_stats.find_vox_intersection">
<tt class="descclassname">nutmeg.stats.beam_stats.</tt><tt class="descname">find_vox_intersection</tt><big>(</big><em>vox_lists</em>, <em>trimmed_boundary=None</em><big>)</big><a class="headerlink" href="#nutmeg.stats.beam_stats.find_vox_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the interesction of all voxel coordinates in vox_lists.
Optionally, trim all voxels to be within the specified boundary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vox_lists :</strong> :</p>
<blockquote>
<p>is an iterable container of (nvox x ncoord) arrays</p>
</blockquote>
<p><strong>trimmed_boundary</strong> : iterable, optional</p>
<blockquote>
<p>a list of (min, max) pairs for the X, Y, Z dimensions. If given,
then each coordinate component must be inside its range.</p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>inter_vox</strong> : ndarray</p>
<blockquote>
<p>the (len(intersection) x 3) array of intersecting voxels</p>
</blockquote>
<p><strong>vox_idx</strong> : list</p>
<blockquote class="last">
<p>the original index of each voxel coordinate in its original list</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nutmeg.stats.parametric_stats.html" title="stats.parametric_stats"
             >next</a> |</li>
        <li class="right" >
          <a href="nutmeg.numutils.html" title="numutils"
             >previous</a> |</li>
  <li><a href="../../index.html">Home</a> |&nbsp;</li>
  <li><a href="../../contents.html">Documentation</a> |&nbsp;</li>

          <li><a href="../index.html" >API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009-2010, UCSF Biomagnetic Imaging Laboratory.
      Last updated on Jun 10, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
  </body>
</html>